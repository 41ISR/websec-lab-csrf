{% extends "base.html" %}

{% block content %}
<div class="hero">
    <h1>üéØ CSRF Learning Lab</h1>
    <p class="subtitle">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è CSRF –∞—Ç–∞–∫ –∏ –∑–∞—â–∏—Ç—ã</p>
</div>

<div class="features">
    <div class="feature-card">
        <h3>üîç –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ</h3>
        <p>–ò–∑—É—á–∞–π—Ç–µ CSRF —á–µ—Ä–µ–∑ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å—Ä–µ–¥–µ</p>
    </div>
    
    <div class="feature-card">
        <h3>‚ö° 11 —É—è–∑–≤–∏–º—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤</h3>
        <p>–û—Ç —Å–º–µ–Ω—ã email –¥–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –¥–µ–Ω–µ–≥ - –ø–æ–ª–Ω—ã–π —Å–ø–µ–∫—Ç—Ä –∞—Ç–∞–∫</p>
    </div>
    
    <div class="feature-card">
        <h3>üõ°Ô∏è –ú–µ—Ç–æ–¥—ã –∑–∞—â–∏—Ç—ã</h3>
        <p>–ò–∑—É—á–∏—Ç–µ CSRF —Ç–æ–∫–µ–Ω—ã, SameSite cookies –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã –∑–∞—â–∏—Ç—ã</p>
    </div>
</div>

{% if 'user_id' not in session %}
<div class="auth-section">
    <div class="auth-options">
        <div class="auth-option">
            <h3>–ù–æ–≤—ã–π —Å—Ç—É–¥–µ–Ω—Ç?</h3>
            <p>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</p>
            <a href="{{ url_for('register') }}" class="btn btn-primary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
        </div>
        
        <div class="auth-option">
            <h3>–£–∂–µ —É—á–∏—Ç–µ—Å—å?</h3>
            <p>–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å</p>
            <a href="{{ url_for('login') }}" class="btn btn-secondary">–í—Ö–æ–¥</a>
        </div>
    </div>
</div>
{% else %}
<div class="welcome-back">
    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ session.username }}! üëã</h2>
    <div class="quick-actions">
        <a href="{{ url_for('profile') }}" class="btn btn-primary">üìä –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</a>
        <a href="{{ url_for('exploit') }}" class="btn btn-secondary">üî¨ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è —ç–∫—Å–ø–ª–æ–π—Ç–æ–≤</a>
        <a href="{{ url_for('tasks') }}" class="btn btn-success">üìö –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è</a>
    </div>
</div>
{% endif %}

<style>
.hero {
    text-align: center;
    padding: 40px 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 10px;
    margin-bottom: 30px;
}

.hero h1 {
    font-size: 3em;
    margin: 0;
}

.subtitle {
    font-size: 1.2em;
    opacity: 0.9;
}

.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 40px 0;
}

.feature-card {
    background: #f8f9fa;
    padding: 25px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
}

.feature-card h3 {
    margin-top: 0;
    color: #333;
}

.auth-section {
    background: #e9ecef;
    padding: 30px;
    border-radius: 8px;
    margin: 30px 0;
}

.auth-options {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
}

.auth-option {
    text-align: center;
    padding: 20px;
}

.btn {
    display: inline-block;
    padding: 12px 24px;
    margin: 10px 5px;
    border: none;
    border-radius: 5px;
    text-decoration: none;
    font-weight: bold;
    transition: all 0.3s ease;
}

.btn-primary {
    background: #007bff;
    color: white;
}

.btn-primary:hover {
    background: #0056b3;
    transform: translateY(-2px);
}

.btn-secondary {
    background: #6c757d;
    color: white;
}

.btn-secondary:hover {
    background: #545b62;
    transform: translateY(-2px);
}

.btn-success {
    background: #28a745;
    color: white;
}

.btn-success:hover {
    background: #1e7e34;
    transform: translateY(-2px);
}

.welcome-back {
    text-align: center;
    padding: 30px;
    background: #d4edda;
    border-radius: 8px;
    margin: 30px 0;
}

.quick-actions {
    margin-top: 20px;
}

.course-structure {
    margin: 50px 0;
}

.modules {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.module {
    border: 2px solid #e9ecef;
    border-radius: 8px;
    overflow: hidden;
}

.module-header {
    background: #343a40;
    color: white;
    padding: 15px;
    font-weight: bold;
}

.module-content {
    padding: 20px;
    margin: 0;
}

.module-content li {
    margin: 10px 0;
    list-style-type: none;
}

.stats {
    margin: 50px 0;
}

.stat-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 20px;
    margin-top: 30px;
}

.stat-item {
    text-align: center;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 8px;
}

.stat-number {
    font-size: 2.5em;
    font-weight: bold;
    color: #007bff;
}

.stat-label {
    color: #6c757d;
    font-weight: bold;
}

.warning-box {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 8px;
    padding: 20px;
    margin: 30px 0;
}

.warning-box h3 {
    color: #856404;
    margin-top: 0;
}

@media (max-width: 768px) {
    .auth-options {
        grid-template-columns: 1fr;
    }
    
    .features {
        grid-template-columns: 1fr;
    }
    
    .modules {
        grid-template-columns: 1fr;
    }
    
    .hero h1 {
        font-size: 2em;
    }
}
</style>
{% endblock %}
